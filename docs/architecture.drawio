<mxfile host="Electron" modified="2024-03-22T05:23:35.754Z" agent="Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/24.0.4 Chrome/120.0.6099.109 Electron/28.1.0 Safari/537.36" version="24.0.4" etag="UQVL3vE3-kJ2PErDg7e9" type="device">
  <diagram id="lqDt0Qx4U0w8Ay38YH_9" name="Page-1">
    <mxGraphModel dx="1026" dy="1872" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" background="none" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="WenWMXOFgcGldbJKTNtc-25" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;curved=1;endArrow=none;endFill=0;" edge="1" parent="1" source="2" target="WenWMXOFgcGldbJKTNtc-19">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <UserObject label="Ticket System" data_from_form="{&quot;node_title&quot;:&quot;\&quot;API\&quot;&quot;,&quot;old_titles&quot;:[&quot;\&quot;API\&quot;&quot;,&quot;\&quot;API\&quot;&quot;],&quot;sfc&quot;:&quot;&quot;,&quot;midas&quot;:&quot;&quot;}" id="2">
          <mxCell style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
            <mxGeometry x="760" y="330" width="120" height="60" as="geometry" />
          </mxCell>
        </UserObject>
        <UserObject label="DB slave" data_from_form="{&quot;node_title&quot;:&quot;\&quot;DB\&quot;&quot;,&quot;old_titles&quot;:[&quot;Cell #5&quot;,&quot;\&quot;DB\&quot;&quot;],&quot;sfc&quot;:&quot;&quot;,&quot;midas&quot;:&quot;&quot;}" id="5">
          <mxCell style="ellipse;whiteSpace=wrap;html=1;fillColor=#ffcd28;gradientColor=#ffa500;strokeColor=#d79b00;fontColor=#050505;" parent="1" vertex="1">
            <mxGeometry x="1360" y="1520" width="80" height="80" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="WenWMXOFgcGldbJKTNtc-18" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;curved=1;" edge="1" parent="1" source="6" target="2">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="660" y="570" />
              <mxPoint x="660" y="360" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="WenWMXOFgcGldbJKTNtc-22" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;curved=1;" edge="1" parent="1" source="6" target="WenWMXOFgcGldbJKTNtc-12">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="WenWMXOFgcGldbJKTNtc-26" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;curved=1;" edge="1" parent="1" source="6" target="WenWMXOFgcGldbJKTNtc-13">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="660" y="570" />
              <mxPoint x="660" y="780" />
            </Array>
          </mxGeometry>
        </mxCell>
        <UserObject label="Guest" data_from_form="{&quot;node_title&quot;:&quot;\&quot;client\&quot;&quot;,&quot;old_titles&quot;:[&quot;Cell #6&quot;,&quot;\&quot;client\&quot;&quot;],&quot;sfc&quot;:&quot;&quot;,&quot;midas&quot;:&quot;&quot;}" id="6">
          <mxCell style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
            <mxGeometry x="450" y="540" width="120" height="60" as="geometry" />
          </mxCell>
        </UserObject>
        <UserObject label="&lt;h1&gt; Агрегатор API поиска авиаперелетов&lt;/h1&gt;&lt;h4&gt;Функциональные требования:&lt;/h4&gt;&lt;ul&gt;&lt;li&gt;&lt;p&gt;Система позволяет пользователю смотреть информацию по доступным рейсам с применением фильтров&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;Система позволяет бронировать билет онлайн&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;Возможность добавления новых источников данных с доступными рейсами&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;важные детали(существует понятие overbooking)&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;Важно - динамическое цено образование (когда количество билетов заканчивается цена растет)&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p style=&quot;margin: 0px; font-variant-numeric: normal; font-variant-east-asian: normal; font-variant-alternates: normal; font-kerning: auto; font-optical-sizing: auto; font-feature-settings: normal; font-variation-settings: normal; font-variant-position: normal; font-stretch: normal; line-height: normal;&quot; class=&quot;p1&quot;&gt;&lt;font color=&quot;#ffffff&quot;&gt;API должен предоставлять возможность забронировать выбранный рейс путем отправки соответствующего запроса о бронировании в источник из которого рейс был получен. Формат запроса можно придумать на свое усмотрение.&lt;/font&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p style=&quot;margin: 0px; font-variant-numeric: normal; font-variant-east-asian: normal; font-variant-alternates: normal; font-kerning: auto; font-optical-sizing: auto; font-feature-settings: normal; font-variation-settings: normal; font-variant-position: normal; font-stretch: normal; line-height: normal;&quot; class=&quot;p1&quot;&gt;&lt;font style=&quot;font-size: 12px;&quot; face=&quot;Helvetica&quot;&gt;&lt;font style=&quot;font-size: 12px;&quot; color=&quot;#ffffff&quot;&gt;Реализовать механизм кэширования для часто запрашиваемых запросов с целью уменьшения нагрузки на сервера и сокращения времени ответа(кэш)&lt;/font&gt;&lt;/font&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p style=&quot;margin: 0px; font-variant-numeric: normal; font-variant-east-asian: normal; font-variant-alternates: normal; font-kerning: auto; font-optical-sizing: auto; font-feature-settings: normal; font-variation-settings: normal; font-variant-position: normal; font-stretch: normal; line-height: normal;&quot; class=&quot;p1&quot;&gt;&lt;font style=&quot;font-size: 12px;&quot; face=&quot;Helvetica&quot;&gt;&lt;font style=&quot;font-size: 12px;&quot;&gt;&lt;span style=&quot;color: rgb(0, 0, 0);&quot;&gt;.&lt;/span&gt;&lt;/font&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;font color=&quot;#ffffff&quot; style=&quot;font-size: 12px;&quot;&gt;Все запросы к API должны логироваться с целью последующего анализа.&lt;/font&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p style=&quot;margin: 0px; font-variant-numeric: normal; font-variant-east-asian: normal; font-variant-alternates: normal; font-kerning: auto; font-optical-sizing: auto; font-feature-settings: normal; font-variation-settings: normal; font-variant-position: normal; font-stretch: normal; line-height: normal;&quot; class=&quot;p1&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;font face=&quot;Helvetica&quot; size=&quot;1&quot; color=&quot;#ffffff&quot; style=&quot;&quot;&gt;&lt;/font&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px; font-variant-numeric: normal; font-variant-east-asian: normal; font-variant-alternates: normal; font-kerning: auto; font-optical-sizing: auto; font-feature-settings: normal; font-variation-settings: normal; font-variant-position: normal; font-stretch: normal; line-height: normal;&quot; class=&quot;p1&quot;&gt;&lt;b style=&quot;&quot;&gt;&lt;font face=&quot;qflhvTegcRONfi2IsJEd&quot; style=&quot;font-size: 12px;&quot; color=&quot;#ffffff&quot;&gt;Предусмотреть возможность корректной обработки непредсказуемо долгих ответов от источников&lt;/font&gt;&lt;/b&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;Нефункциональные требования:&lt;/p&gt;&lt;p&gt;Решение должно обладать следующими архитектурными характеристиками&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;Система должна обладать свойством высокой доступности&lt;/li&gt;&lt;li&gt;Система должна поддерживать high concurrency, когда много пользователей одновременно бронируют билеты&lt;/li&gt;&lt;li&gt;Система должна обладать приемлемым latency на бронирование билетов - чем меньше тем лучше но при любых вариантах мы должны укладывать в несколько секунд при ответе на запрос бронирования&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;/p&gt;" data_from_form="{&quot;node_title&quot;:&quot;\&quot;&lt;h1&gt; Агрегатор API поиска авиаперелетов&lt;/h1&gt;&lt;h4&gt;Функциональные требования:&lt;/h4&gt;&lt;ul&gt;&lt;li&gt;&lt;p&gt;Позволяет пользователю смотреть информацию по доступным рейсам&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;Нефункциональные требования:&lt;/p&gt;\&quot;&quot;,&quot;old_titles&quot;:[&quot;\&quot;&lt;h1&gt; Агрегатор API поиска авиаперелетов&lt;/h1&gt;&lt;p&gt;Функциональные требования:&lt;/p&gt;&lt;p&gt;Нефункциональные требования:&lt;/p&gt;\&quot;&quot;,&quot;\&quot;&lt;h1&gt; Агрегатор API поиска авиаперелетов&lt;/h1&gt;&lt;h4&gt;Функциональные требования:&lt;/h4&gt;&lt;ul&gt;&lt;li&gt;&lt;p&gt;Позволяет пользователю смотреть информацию по доступным рейсам&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;Нефункциональные требования:&lt;/p&gt;\&quot;&quot;],&quot;sfc&quot;:&quot;&quot;,&quot;midas&quot;:&quot;&quot;}" id="7">
          <mxCell style="text;html=1;strokeColor=#B09500;fillColor=#e3c800;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;fontColor=#000000;" parent="1" vertex="1">
            <mxGeometry x="10" y="10" width="420" height="650" as="geometry" />
          </mxCell>
        </UserObject>
        <UserObject label="&quot;Source Data 1&quot;" data_from_form="{&quot;node_title&quot;:&quot;\&quot;Source Data 1\&quot;&quot;,&quot;old_titles&quot;:[&quot;Cell #9&quot;,&quot;\&quot;Source Data 1\&quot;&quot;],&quot;sfc&quot;:&quot;&quot;,&quot;midas&quot;:&quot;&quot;}" id="9">
          <mxCell style="ellipse;shape=cloud;whiteSpace=wrap;html=1;" parent="1" vertex="1">
            <mxGeometry x="820" y="-60" width="170" height="80" as="geometry" />
          </mxCell>
        </UserObject>
        <UserObject label="&quot;Source Data 2&quot;" data_from_form="{&quot;node_title&quot;:&quot;\&quot;Source Data 2\&quot;&quot;,&quot;old_titles&quot;:[&quot;\&quot;Source Data 1\&quot;&quot;,&quot;\&quot;Source Data 2\&quot;&quot;],&quot;sfc&quot;:&quot;&quot;,&quot;midas&quot;:&quot;&quot;}" id="10">
          <mxCell style="ellipse;shape=cloud;whiteSpace=wrap;html=1;" parent="1" vertex="1">
            <mxGeometry x="990" y="-110" width="170" height="80" as="geometry" />
          </mxCell>
        </UserObject>
        <UserObject label="&quot;Source Data N&quot;" data_from_form="{&quot;node_title&quot;:&quot;\&quot;Source Data N\&quot;&quot;,&quot;old_titles&quot;:[&quot;\&quot;Source Data 2\&quot;&quot;,&quot;\&quot;Source Data N\&quot;&quot;],&quot;sfc&quot;:&quot;&quot;,&quot;midas&quot;:&quot;&quot;}" id="12">
          <mxCell style="ellipse;shape=cloud;whiteSpace=wrap;html=1;" parent="1" vertex="1">
            <mxGeometry x="1170" y="-40" width="170" height="80" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="WenWMXOFgcGldbJKTNtc-24" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;curved=1;endArrow=none;endFill=0;" edge="1" parent="1" source="WenWMXOFgcGldbJKTNtc-12" target="WenWMXOFgcGldbJKTNtc-23">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1000" y="390" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <UserObject label="Booking System" data_from_form="{&quot;node_title&quot;:&quot;\&quot;API\&quot;&quot;,&quot;old_titles&quot;:[&quot;\&quot;API\&quot;&quot;,&quot;\&quot;API\&quot;&quot;],&quot;sfc&quot;:&quot;&quot;,&quot;midas&quot;:&quot;&quot;}" id="WenWMXOFgcGldbJKTNtc-12">
          <mxCell style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
            <mxGeometry x="760" y="540" width="120" height="60" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="WenWMXOFgcGldbJKTNtc-28" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;endArrow=none;endFill=0;curved=1;" edge="1" parent="1" source="WenWMXOFgcGldbJKTNtc-13" target="WenWMXOFgcGldbJKTNtc-27">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <UserObject label="Payment System" data_from_form="{&quot;node_title&quot;:&quot;\&quot;API\&quot;&quot;,&quot;old_titles&quot;:[&quot;\&quot;API\&quot;&quot;,&quot;\&quot;API\&quot;&quot;],&quot;sfc&quot;:&quot;&quot;,&quot;midas&quot;:&quot;&quot;}" id="WenWMXOFgcGldbJKTNtc-13">
          <mxCell style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
            <mxGeometry x="760" y="750" width="120" height="60" as="geometry" />
          </mxCell>
        </UserObject>
        <UserObject label="Notification System" data_from_form="{&quot;node_title&quot;:&quot;\&quot;API\&quot;&quot;,&quot;old_titles&quot;:[&quot;\&quot;API\&quot;&quot;,&quot;\&quot;API\&quot;&quot;],&quot;sfc&quot;:&quot;&quot;,&quot;midas&quot;:&quot;&quot;}" id="WenWMXOFgcGldbJKTNtc-14">
          <mxCell style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
            <mxGeometry x="760" y="850" width="120" height="60" as="geometry" />
          </mxCell>
        </UserObject>
        <UserObject label="User Profile(SSO)" data_from_form="{&quot;node_title&quot;:&quot;\&quot;API\&quot;&quot;,&quot;old_titles&quot;:[&quot;\&quot;API\&quot;&quot;,&quot;\&quot;API\&quot;&quot;],&quot;sfc&quot;:&quot;&quot;,&quot;midas&quot;:&quot;&quot;}" id="WenWMXOFgcGldbJKTNtc-15">
          <mxCell style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
            <mxGeometry x="490" y="310" width="120" height="60" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="WenWMXOFgcGldbJKTNtc-38" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;curved=1;" edge="1" parent="1" source="WenWMXOFgcGldbJKTNtc-16">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1160" y="250" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <UserObject label="Administrators" data_from_form="{&quot;node_title&quot;:&quot;\&quot;client\&quot;&quot;,&quot;old_titles&quot;:[&quot;Cell #6&quot;,&quot;\&quot;client\&quot;&quot;],&quot;sfc&quot;:&quot;&quot;,&quot;midas&quot;:&quot;&quot;}" id="WenWMXOFgcGldbJKTNtc-16">
          <mxCell style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
            <mxGeometry x="1270" y="220" width="120" height="60" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="WenWMXOFgcGldbJKTNtc-21" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;curved=1;" edge="1" parent="1" source="WenWMXOFgcGldbJKTNtc-17" target="2">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="WenWMXOFgcGldbJKTNtc-37" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;curved=1;" edge="1" parent="1" source="WenWMXOFgcGldbJKTNtc-17" target="9">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1090" y="150" />
              <mxPoint x="905" y="150" />
            </Array>
          </mxGeometry>
        </mxCell>
        <UserObject label="Management system" data_from_form="{&quot;node_title&quot;:&quot;\&quot;API\&quot;&quot;,&quot;old_titles&quot;:[&quot;\&quot;API\&quot;&quot;,&quot;\&quot;API\&quot;&quot;],&quot;sfc&quot;:&quot;&quot;,&quot;midas&quot;:&quot;&quot;}" id="WenWMXOFgcGldbJKTNtc-17">
          <mxCell style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
            <mxGeometry x="1030" y="220" width="120" height="50" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="WenWMXOFgcGldbJKTNtc-19" value="&lt;h1 style=&quot;margin-top: 0px;&quot;&gt;REST&lt;/h1&gt;&lt;div&gt;GET&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;ul&gt;&lt;li&gt;/tickets&lt;/li&gt;&lt;li&gt;/tickets/ticket_type&lt;/li&gt;&lt;li&gt;/ticket_type/$id&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;whiteSpace=wrap;overflow=hidden;rounded=0;strokeColor=default;" vertex="1" parent="1">
          <mxGeometry x="490" y="30" width="235" height="160" as="geometry" />
        </mxCell>
        <mxCell id="WenWMXOFgcGldbJKTNtc-23" value="&lt;h1 style=&quot;margin-top: 0px;&quot;&gt;REST&lt;/h1&gt;&lt;div&gt;** GET&lt;/div&gt;&lt;div&gt;&lt;ul&gt;&lt;li&gt;/reservation&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;div&gt;** &lt;b&gt;POST&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;ul&gt;&lt;li&gt;/reservation&lt;/li&gt;&lt;ul&gt;&lt;li&gt;user_id&lt;/li&gt;&lt;li&gt;ticket_id&lt;/li&gt;&lt;li&gt;&lt;br&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/ul&gt;&lt;div&gt;** &lt;b&gt;PUT&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;ul&gt;&lt;li&gt;/reservation/$id&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;** &lt;b&gt;DELETE&lt;/b&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;ul&gt;&lt;li&gt;/reservation&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;whiteSpace=wrap;overflow=hidden;rounded=0;glass=0;shadow=0;textShadow=0;strokeColor=default;" vertex="1" parent="1">
          <mxGeometry x="1000" y="400" width="235" height="300" as="geometry" />
        </mxCell>
        <mxCell id="WenWMXOFgcGldbJKTNtc-27" value="&lt;h1 style=&quot;margin-top: 0px;&quot;&gt;REST&lt;/h1&gt;&lt;div&gt;** &lt;b&gt;POST&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;ul&gt;&lt;li&gt;/payments&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;" style="text;html=1;whiteSpace=wrap;overflow=hidden;rounded=0;glass=0;shadow=0;textShadow=0;strokeColor=default;" vertex="1" parent="1">
          <mxGeometry x="1000" y="730" width="210" height="130" as="geometry" />
        </mxCell>
        <mxCell id="WenWMXOFgcGldbJKTNtc-30" value="&lt;h1 style=&quot;margin-top: 0px;&quot;&gt;Данные из интернета(статистика)&lt;/h1&gt;&lt;p style=&quot;&quot;&gt;Детали: кол-во авиоперевозчиков в мире (&lt;span style=&quot;caret-color: rgb(189, 193, 198); color: rgb(189, 193, 198); font-family: &amp;quot;Google Sans&amp;quot;, arial, sans-serif; background-color: rgb(32, 33, 36);&quot;&gt;В России и СНГ – 41; В Европе – 31; В остальном мире –&lt;span class=&quot;Apple-converted-space&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(58, 63, 80); color: rgb(226, 238, 255); font-family: &amp;quot;Google Sans&amp;quot;, arial, sans-serif;&quot;&gt;36)&lt;/span&gt;&lt;/p&gt;&lt;p&gt;air_carrier - 108&lt;/p&gt;&lt;p&gt;ticket - 1M&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;100% пользователей смотрят&lt;/p&gt;&lt;p&gt;10% - открывают страницу бронирования&lt;/p&gt;&lt;p&gt;1% производят бронирование&lt;/p&gt;&lt;p&gt;Бронирование неравномерно (всплесками в зависимости от времени - сезон, праздники время суток)&lt;/p&gt;&lt;p&gt;от 2&amp;nbsp;&lt;span style=&quot;background-color: initial;&quot;&gt;rps&lt;/span&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&amp;nbsp;до&amp;nbsp; 50&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;rps&lt;/span&gt;&lt;/p&gt;&lt;p&gt;на пике до 50000rps&lt;/p&gt;&lt;p&gt;статья про овербукинг(обратить внимание)&lt;/p&gt;&lt;p&gt;https://www.ixbt.com/live/travel/pochemu-aviakompanii-prodayut-bolshe-biletov-chem-est-mest-v-nalichii.html&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;" style="text;html=1;whiteSpace=wrap;overflow=hidden;rounded=0;fillColor=#e3c800;fontColor=#000000;strokeColor=#B09500;" vertex="1" parent="1">
          <mxGeometry x="20" y="720" width="330" height="470" as="geometry" />
        </mxCell>
        <UserObject label="Analytic System" data_from_form="{&quot;node_title&quot;:&quot;\&quot;API\&quot;&quot;,&quot;old_titles&quot;:[&quot;\&quot;API\&quot;&quot;,&quot;\&quot;API\&quot;&quot;],&quot;sfc&quot;:&quot;&quot;,&quot;midas&quot;:&quot;&quot;}" id="WenWMXOFgcGldbJKTNtc-31">
          <mxCell style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
            <mxGeometry x="760" y="940" width="120" height="60" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="WenWMXOFgcGldbJKTNtc-35" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.55;entryY=0.95;entryDx=0;entryDy=0;entryPerimeter=0;curved=1;" edge="1" parent="1" source="WenWMXOFgcGldbJKTNtc-17" target="12">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1090" y="150" />
              <mxPoint x="1264" y="150" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="WenWMXOFgcGldbJKTNtc-36" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.55;entryY=0.95;entryDx=0;entryDy=0;entryPerimeter=0;curved=1;" edge="1" parent="1" source="WenWMXOFgcGldbJKTNtc-17" target="10">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="WenWMXOFgcGldbJKTNtc-70" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;curved=1;" edge="1" parent="1" source="WenWMXOFgcGldbJKTNtc-39" target="WenWMXOFgcGldbJKTNtc-40">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <UserObject label="Guest" data_from_form="{&quot;node_title&quot;:&quot;\&quot;client\&quot;&quot;,&quot;old_titles&quot;:[&quot;Cell #6&quot;,&quot;\&quot;client\&quot;&quot;],&quot;sfc&quot;:&quot;&quot;,&quot;midas&quot;:&quot;&quot;}" id="WenWMXOFgcGldbJKTNtc-39">
          <mxCell style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
            <mxGeometry x="580" y="1490" width="120" height="60" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="WenWMXOFgcGldbJKTNtc-71" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;curved=1;" edge="1" parent="1" source="WenWMXOFgcGldbJKTNtc-40" target="WenWMXOFgcGldbJKTNtc-41">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="WenWMXOFgcGldbJKTNtc-72" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;curved=1;" edge="1" parent="1" source="WenWMXOFgcGldbJKTNtc-40" target="WenWMXOFgcGldbJKTNtc-53">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <UserObject label="api gateway&lt;div&gt;(load balancer)&lt;/div&gt;" data_from_form="{&quot;node_title&quot;:&quot;\&quot;client\&quot;&quot;,&quot;old_titles&quot;:[&quot;Cell #6&quot;,&quot;\&quot;client\&quot;&quot;],&quot;sfc&quot;:&quot;&quot;,&quot;midas&quot;:&quot;&quot;}" id="WenWMXOFgcGldbJKTNtc-40">
          <mxCell style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
            <mxGeometry x="760" y="1460" width="120" height="60" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="WenWMXOFgcGldbJKTNtc-49" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;curved=1;" edge="1" parent="1" source="WenWMXOFgcGldbJKTNtc-41" target="WenWMXOFgcGldbJKTNtc-45">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="WenWMXOFgcGldbJKTNtc-50" value="Write" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="WenWMXOFgcGldbJKTNtc-49">
          <mxGeometry x="0.3714" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="WenWMXOFgcGldbJKTNtc-60" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="WenWMXOFgcGldbJKTNtc-41">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="995" y="1590" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <UserObject label="&lt;span style=&quot;text-align: left;&quot;&gt;air_carrier &amp;amp; ticker&amp;nbsp;&lt;/span&gt;API" data_from_form="{&quot;node_title&quot;:&quot;\&quot;client\&quot;&quot;,&quot;old_titles&quot;:[&quot;Cell #6&quot;,&quot;\&quot;client\&quot;&quot;],&quot;sfc&quot;:&quot;&quot;,&quot;midas&quot;:&quot;&quot;}" id="WenWMXOFgcGldbJKTNtc-41">
          <mxCell style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
            <mxGeometry x="930" y="1360" width="130" height="50" as="geometry" />
          </mxCell>
        </UserObject>
        <UserObject label="&lt;span style=&quot;text-align: left;&quot;&gt;air_carrier &amp;amp; ticker&amp;nbsp;&lt;/span&gt;cache" data_from_form="{&quot;node_title&quot;:&quot;\&quot;client\&quot;&quot;,&quot;old_titles&quot;:[&quot;Cell #6&quot;,&quot;\&quot;client\&quot;&quot;],&quot;sfc&quot;:&quot;&quot;,&quot;midas&quot;:&quot;&quot;}" id="WenWMXOFgcGldbJKTNtc-42">
          <mxCell style="whiteSpace=wrap;html=1;fillColor=#fad9d5;strokeColor=#ae4132;fontColor=#000000;" vertex="1" parent="1">
            <mxGeometry x="830" y="1220" width="120" height="60" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="WenWMXOFgcGldbJKTNtc-43" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.575;entryY=1.033;entryDx=0;entryDy=0;entryPerimeter=0;curved=1;" edge="1" parent="1" source="WenWMXOFgcGldbJKTNtc-41" target="WenWMXOFgcGldbJKTNtc-42">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="WenWMXOFgcGldbJKTNtc-44" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=-0.075;entryY=0.563;entryDx=0;entryDy=0;entryPerimeter=0;curved=1;" edge="1" parent="1" source="WenWMXOFgcGldbJKTNtc-41" target="5">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1090" y="1400" />
              <mxPoint x="1090" y="1565" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="WenWMXOFgcGldbJKTNtc-52" value="Read" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="WenWMXOFgcGldbJKTNtc-44">
          <mxGeometry x="0.61" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="WenWMXOFgcGldbJKTNtc-46" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;curved=1;" edge="1" parent="1" source="WenWMXOFgcGldbJKTNtc-45" target="5">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <UserObject label="DB" data_from_form="{&quot;node_title&quot;:&quot;\&quot;DB\&quot;&quot;,&quot;old_titles&quot;:[&quot;Cell #5&quot;,&quot;\&quot;DB\&quot;&quot;],&quot;sfc&quot;:&quot;&quot;,&quot;midas&quot;:&quot;&quot;}" id="WenWMXOFgcGldbJKTNtc-45">
          <mxCell style="ellipse;whiteSpace=wrap;html=1;fillColor=#fff2cc;gradientColor=#ffd966;strokeColor=#d6b656;fontColor=#000000;" vertex="1" parent="1">
            <mxGeometry x="1330" y="1390" width="80" height="80" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="WenWMXOFgcGldbJKTNtc-77" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.25;entryDx=0;entryDy=0;curved=1;" edge="1" parent="1" source="WenWMXOFgcGldbJKTNtc-47" target="WenWMXOFgcGldbJKTNtc-41">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="WenWMXOFgcGldbJKTNtc-47" value="Management&amp;nbsp;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#b0e3e6;strokeColor=#0e8088;fontColor=#000000;" vertex="1" parent="1">
          <mxGeometry x="1130" y="1200" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="WenWMXOFgcGldbJKTNtc-55" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;curved=1;" edge="1" parent="1" source="WenWMXOFgcGldbJKTNtc-53" target="WenWMXOFgcGldbJKTNtc-54">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="WenWMXOFgcGldbJKTNtc-58" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;curved=1;" edge="1" parent="1" source="WenWMXOFgcGldbJKTNtc-53" target="WenWMXOFgcGldbJKTNtc-57">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="WenWMXOFgcGldbJKTNtc-64" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;curved=1;" edge="1" parent="1" source="WenWMXOFgcGldbJKTNtc-53" target="WenWMXOFgcGldbJKTNtc-61">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="WenWMXOFgcGldbJKTNtc-53" value="booking API" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="940" y="1600" width="120" height="60" as="geometry" />
        </mxCell>
        <UserObject label="Bo&lt;span style=&quot;background-color: initial;&quot;&gt;oking DB&lt;/span&gt;" data_from_form="{&quot;node_title&quot;:&quot;\&quot;DB\&quot;&quot;,&quot;old_titles&quot;:[&quot;Cell #5&quot;,&quot;\&quot;DB\&quot;&quot;],&quot;sfc&quot;:&quot;&quot;,&quot;midas&quot;:&quot;&quot;}" id="WenWMXOFgcGldbJKTNtc-54">
          <mxCell style="ellipse;whiteSpace=wrap;html=1;fillColor=#fff2cc;gradientColor=#ffd966;strokeColor=#d6b656;fontColor=#050505;" vertex="1" parent="1">
            <mxGeometry x="1240" y="1650" width="80" height="80" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="WenWMXOFgcGldbJKTNtc-56" value="&lt;h1 style=&quot;margin-top: 0px;&quot;&gt;&lt;font&gt;&amp;nbsp;Storage(варианты)&lt;/font&gt;&lt;/h1&gt;&lt;p&gt;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;font&gt;MongoDB&lt;/font&gt;&lt;/li&gt;&lt;ul&gt;&lt;li&gt;&lt;font&gt;Скорость репликации выше&lt;/font&gt;&lt;/li&gt;&lt;li&gt;&lt;font&gt;проще мапить объекты&lt;/font&gt;&lt;/li&gt;&lt;/ul&gt;&lt;li&gt;&lt;font&gt;Postgress (но для простоты беру его)&lt;/font&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;/p&gt;" style="text;html=1;whiteSpace=wrap;overflow=hidden;rounded=0;fillColor=#e3c800;strokeColor=#B09500;fontColor=#000000;" vertex="1" parent="1">
          <mxGeometry x="1420" y="1160" width="270" height="210" as="geometry" />
        </mxCell>
        <UserObject label="Bo&lt;span style=&quot;background-color: initial;&quot;&gt;oking DB&lt;/span&gt;" data_from_form="{&quot;node_title&quot;:&quot;\&quot;DB\&quot;&quot;,&quot;old_titles&quot;:[&quot;Cell #5&quot;,&quot;\&quot;DB\&quot;&quot;],&quot;sfc&quot;:&quot;&quot;,&quot;midas&quot;:&quot;&quot;}" id="WenWMXOFgcGldbJKTNtc-57">
          <mxCell style="ellipse;whiteSpace=wrap;html=1;fillColor=#fff2cc;gradientColor=#ffd966;strokeColor=#d6b656;fontColor=#000000;" vertex="1" parent="1">
            <mxGeometry x="1240" y="1770" width="80" height="80" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="WenWMXOFgcGldbJKTNtc-59" value="Рассмотреть Шардирование" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="1140" y="1730" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="WenWMXOFgcGldbJKTNtc-65" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;curved=1;" edge="1" parent="1" source="WenWMXOFgcGldbJKTNtc-61" target="WenWMXOFgcGldbJKTNtc-62">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="WenWMXOFgcGldbJKTNtc-69" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;curved=1;" edge="1" parent="1" source="WenWMXOFgcGldbJKTNtc-61" target="WenWMXOFgcGldbJKTNtc-68">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="WenWMXOFgcGldbJKTNtc-61" value="payment API" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="940" y="1890" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="WenWMXOFgcGldbJKTNtc-62" value="External provider" style="shape=process;whiteSpace=wrap;html=1;backgroundOutline=1;" vertex="1" parent="1">
          <mxGeometry x="1160" y="2110" width="120" height="60" as="geometry" />
        </mxCell>
        <UserObject label="&lt;span style=&quot;background-color: initial;&quot;&gt;Payment DB&lt;/span&gt;" data_from_form="{&quot;node_title&quot;:&quot;\&quot;DB\&quot;&quot;,&quot;old_titles&quot;:[&quot;Cell #5&quot;,&quot;\&quot;DB\&quot;&quot;],&quot;sfc&quot;:&quot;&quot;,&quot;midas&quot;:&quot;&quot;}" id="WenWMXOFgcGldbJKTNtc-68">
          <mxCell style="ellipse;whiteSpace=wrap;html=1;fillColor=#fff2cc;gradientColor=#ffd966;strokeColor=#d6b656;fontColor=#000000;" vertex="1" parent="1">
            <mxGeometry x="1290" y="1930" width="80" height="80" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="WenWMXOFgcGldbJKTNtc-73" value="Позволит реализовать retry&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;если что-то пойдет не так при оплате&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="1460" y="1900" width="200" height="80" as="geometry" />
        </mxCell>
        <mxCell id="WenWMXOFgcGldbJKTNtc-74" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1.05;entryY=0.325;entryDx=0;entryDy=0;entryPerimeter=0;curved=1;" edge="1" parent="1" source="WenWMXOFgcGldbJKTNtc-73" target="WenWMXOFgcGldbJKTNtc-68">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="WenWMXOFgcGldbJKTNtc-76" value="## &lt;b&gt;reservation&lt;/b&gt;&lt;div style=&quot;text-align: left;&quot;&gt;user_id&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;air_carrier_id&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;date&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;ticket_type_id&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;cost&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;status&amp;nbsp; - enum (pending, wait_payment, paid, cancel)&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fillColor=#e3c800;fontColor=#000000;strokeColor=#B09500;" vertex="1" parent="1">
          <mxGeometry x="1350" y="1670" width="280" height="170" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
